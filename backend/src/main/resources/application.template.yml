# ============================================================================
# BACKEND APPLICATION CONFIGURATION TEMPLATE
# ============================================================================
# INSTRUCTIONS:
# 1. Copy this file to 'application.yml' in the same directory
# 2. Replace all placeholder values (YOUR_*) with actual values
# 3. NEVER commit application.yml to git!
# ============================================================================

server:
  port: 8080
  servlet:
    context-path: /api

spring:
  # ============================================================================
  # SECURITY - Update these credentials!
  # ============================================================================
  security:
    user:
      name: YOUR_ADMIN_USERNAME
      password: YOUR_STRONG_PASSWORD_HERE

  # ============================================================================
  # DATABASE CONFIGURATION - PostgreSQL
  # ============================================================================
  datasource:
    url: jdbc:postgresql://YOUR_DB_HOST:5432/YOUR_DATABASE_NAME
    username: YOUR_DB_USERNAME
    password: YOUR_DB_PASSWORD
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 20000

  # ============================================================================
  # JPA / HIBERNATE CONFIGURATION
  # ============================================================================
  jpa:
    hibernate:
      ddl-auto: validate  # Options: validate, update, create, create-drop
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true

  # ============================================================================
  # FILE UPLOAD CONFIGURATION
  # ============================================================================
  servlet:
    multipart:
      max-file-size: 20MB
      max-request-size: 20MB
      enabled: true

# ============================================================================
# AWS S3 CONFIGURATION
# ============================================================================
aws:
  s3:
    region: YOUR_AWS_REGION  # e.g., us-east-1
    bucket-name: YOUR_S3_BUCKET_NAME
    profile-images-folder: profile-images/users/

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
cors:
  allowed-origins:
    - http://localhost:8081
    - http://localhost:8082
    - https://YOUR_PRODUCTION_DOMAIN.com
  allowed-methods:
    - GET
    - POST
    - PUT
    - DELETE
    - OPTIONS
  allowed-headers: "*"
  allow-credentials: true

# ============================================================================
# APPLICATION SPECIFIC SETTINGS
# ============================================================================
app:
  volunteer:
    max-assignment-distance: 50  # km
    auto-assignment-timeout: 300  # seconds
  emergency:
    max-response-time: 1800  # seconds

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
logging:
  level:
    com.disaster.management: INFO
    org.springframework.security: INFO
    org.springframework.web: INFO
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"

# ============================================================================
# ACTUATOR / MONITORING ENDPOINTS
# ============================================================================
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always
